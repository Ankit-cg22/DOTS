(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{156:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(14),c=a.n(i),o=a(15),r=a(61),s=a(97),l=a(51),d=a(8),p="CREATE",u="UPDATE",h="DELETE",m="FETCH_ALL",j="AUTH",b="LOGOUT",g="FETCH_BY_TAG",A="FETCH_POST_BY_ID",x="LOADING_START",f="LOADING_END",O="COMMENT",C="USER_INFO_BY_ID",w="AUTH_FAIL",v="AUTH_LOADING_START",I="AUTH_LOADING_END",y=Object(r.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0});case f:return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1});case m:return Object(d.a)(Object(d.a)({},e),{},{posts:t.payload.data,currentPage:t.payload.currentPageNumber,totalNumberOfPages:t.payload.totalNumberOfPages});case g:return Object(d.a)(Object(d.a)({},e),{},{posts:t.payload.data});case A:return Object(d.a)(Object(d.a)({},e),{},{post:t.payload});case p:return Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(l.a)(e.posts),[t.payload])});case u:return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case h:return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==t.payload}))});case O:return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case C:return Object(d.a)(Object(d.a)({},e),{},{postsByUserId:t.payload.posts,profileUser:t.payload.user});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(d.a)(Object(d.a)({},e),{},{isAuthLoading:!0});case I:return Object(d.a)(Object(d.a)({},e),{},{isAuthLoading:!1});case j:return localStorage.setItem("profile",JSON.stringify(Object(d.a)({},null===t||void 0===t?void 0:t.data))),Object(d.a)(Object(d.a)({},e),{},{authData:null===t||void 0===t?void 0:t.data,authFail:!1});case b:return localStorage.clear(),Object(d.a)(Object(d.a)({},e),{},{authData:null,authFail:!1});case w:return Object(d.a)(Object(d.a)({},e),{},{authFail:!0,authFailMessage:t.payload});default:return e}}}),Q=a(3),B=a(190),E=a(159),N=a(192),S=a(208),k=a(193),D=a(19),M=a(20),L=a(98),F=a(187),G=a(189),U=Object(F.a)((function(e){return{appBar:{borderRadius:0,marginBottom:"30px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 50px","@media (max-width:479px)":{padding:"10px 0px"},width:"100%"},heading:{color:"black",textDecoration:"none",fontSize:"5vw",height:"100%",margin:"auto auto","@media (max-width:479px)":{fontSize:"8vw"}},image:{marginLeft:"15px",height:"5vw","@media (max-width:479px)":{height:"8vw"}},toolbar:{display:"flex",justifyContent:"flex-end",width:"400px"},profile:{display:"flex",flexDirection:"row",justifyContent:"space-between","@media(min-width:600px)":{width:"200px"},"@media(max-width:600px)":{width:"160px"}},userName:{display:"flex",alignItems:"center"},brandContainer:{display:"flex",alignItems:"center"},purple:{backgroundColor:G.a[100]},loginButton:{fontSize:"1.2vw"}}})),R=a(1);function q(e){var t=e.setLoggedUser,a=U(),i=Object(n.useState)(JSON.parse(localStorage.getItem("profile"))),c=Object(Q.a)(i,2),r=c[0],s=c[1],l=Object(o.b)(),d=Object(D.g)(),p=Object(D.h)(),u=function(){l({type:b}),s(null),t(null),d.push("/")};return Object(n.useEffect)((function(){var e=null===r||void 0===r?void 0:r.token;e&&(1e3*Object(L.a)(e).exp<(new Date).getTime()&&u());s(JSON.parse(localStorage.getItem("profile")))}),[p]),console.log(r),Object(R.jsxs)(B.a,{className:a.appBar,position:"static",color:"inherit",children:[Object(R.jsxs)("div",{className:a.brandContainer,children:[Object(R.jsx)("img",{className:a.image,src:"data:image/png;base64,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",alt:"dots-logo",height:"50"}),Object(R.jsx)(E.a,{component:M.b,to:"/",className:a.heading,variant:"h2",align:"center",children:"DOTS"})]}),Object(R.jsx)(N.a,{children:r?Object(R.jsxs)("div",{className:a.profile,children:[Object(R.jsx)(S.a,{alt:r.result.name,component:M.b,to:"/profile/".concat(r.result._id),children:r.result.name.charAt(1)}),Object(R.jsx)(k.a,{className:a.logout,color:"secondary",variant:"contained",onClick:u,children:"Log Out"})]}):Object(R.jsx)("div",{className:a.loginButton,children:Object(R.jsx)(k.a,{component:M.b,to:{pathname:"/auth",state:{prevPath:p.pathname}},color:"primary",variant:"contained",children:"Log In"})})})]})}var H=a(29),P=a(198),W=a(113),z=a(204),T=a(12),Y=a.n(T),J=a(26),V=Object(F.a)({media:{backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken","@media (max-width:700px)":{paddingTop:"48%"},"@media (max-width:600px)":{paddingTop:"35%"},"@media (min-width:700px)":{paddingTop:"56.25%",width:"45%",height:"100%"}},postInfo:{"@media (min-width:700px)":{padding:"20px",width:"60%",minHeight:"100%"},"@media (max-width:700px)":{width:"100%",minHeight:"100%"}},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",justifyContent:"center",borderRadius:"1rem",margin:"1rem auto","@media (max-width:700px)":{flexDirection:"column",height:"80vw",justifyContent:"space-between",width:"80%",position:"relative"},"@media (min-width:700px)":{width:"100%",maxHeight:"270px"},"@media (max-width:600px)":{height:"95vw",width:"90vw",position:"relative"}},overlay:{"@media (max-width:700px)":{position:"absolute",top:"-30px",color:"white",width:"95%",padding:"0px 5px ",fontSize:"1.1rem",display:"flex",justifyContent:"space-between",textAlign:"center"},"@media (min-width:700px)":{width:"fit-content",maxWidth:"50%",display:"flex",justifyContent:"space-between",textAlign:"center"},marginLeft:"4px"},overlayWrapper:{"@media (min-width:700px)":{display:"flex",justifyContent:"space-between",maxHeight:"10%",minHeight:"10%",marginBottom:"5px"},width:"100%"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px 0px","@media (max-width:700px)":{paddingLeft:"10px"}},title:{"@media (max-width:700px)":{paddingLeft:"10px",padding:"10px 0px"},"@media (max-width:600px)":{padding:"5px 10px"}},cardActions:{padding:"0 0px 8px 0px",display:"flex",justifyContent:"space-between","@media (min-width:700px)":{height:"15%"},"@media(max-width:600px)":{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0px 5px"}},cardAction:{"@media (max-width:700px)":{display:"block",textAlign:"left",minHeight:"50%",maxHeight:"50%",width:"100%",padding:"5px 0px"},"@media (min-width:700px)":{display:"flex",flexDirection:"column",minHeight:"85%",maxHeight:"85%",width:"100%",alignItems:"flex-start",justifyContent:"space-between"}},imageD:{height:"100px"},description:{"@media (min-width:700px)":{textAlign:"left",padding:0},"@media (max-width:600px)":{paddingLeft:"10px",textAlign:"left",paddingTop:"0px",maxHeight:"40%"}},visitLink:{textDecoration:"none",color:"white",padding:"0",maxHeight:"25px",widht:"fit-content"},visitButton:{marginRight:"3px","@media(max-width:600px)":{width:"20%"}},authorButtons:{"@media (max-width:700px)":{width:"40%",display:"flex",paddingRight:"2px"},"@media(max-width:600px)":{}},editButton:{},deleteButton:{}}),K=a(194),X=a(195),Z=a(114),_=a(196),$=a(197),ee=a(104),te=a.n(ee),ae=a(73),ne=a.n(ae),ie=a(74),ce=a.n(ie),oe=a(76),re=a.n(oe),se=a(75),le=a.n(se),de=a(56),pe=a.n(de),ue=a(71),he=a.n(ue),me=he.a.create({baseURL:"https://dots-backend-cg.herokuapp.com"});me.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var je=function(e){return me.get("/posts?page=".concat(e))},be=function(e){return me.get("/posts/search?search=".concat(e.search||"none","&tag=").concat(e.tag||"none"))},ge=function(e){return me.get("/posts/".concat(e))},Ae=function(e,t){return me.patch("/posts/".concat(e),t)},xe=function(e){return me.delete("/posts/".concat(e))},fe=function(e){return me.patch("/posts/".concat(e,"/likePost"))},Oe=function(e,t){return me.post("/posts/".concat(t,"/postComment"),{commentObject:e})},Ce=function(e){return me.post("/user/signup",e)},we=function(e){return me.post("/user/signin",e)},ve=function(e){return me.get("/user/".concat(e))},Ie=function(e){return function(){var t=Object(J.a)(Y.a.mark((function t(a){var n,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:x}),t.next=4,je(e);case 4:n=t.sent,i=n.data,console.log(i),a({type:m,payload:i}),a({type:f}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(J.a)(Y.a.mark((function t(a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xe(e);case 3:a({type:h,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},Qe=function(e){return function(){var t=Object(J.a)(Y.a.mark((function t(a){var n,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe(e);case 3:n=t.sent,i=n.data,a({type:u,payload:i}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Be=function(e,t){return function(){var a=Object(J.a)(Y.a.mark((function a(n){var i,c;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Oe(e,t);case 3:return i=a.sent,c=i.data,n({type:O,payload:c}),a.abrupt("return",c.comments.reverse());case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},Ee=a(206),Ne=a(205),Se=Object(F.a)({modalBox:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,backgroundColor:"white",boxShadow:24,height:"200px",p:4,outline:"none",borderRadius:"1rem",display:"flex",justifyContent:"center",alignItems:"center","@media(max-width:600px)":{height:"150px",width:"90vw"}},deleteModalContainer:{width:"fit-content",height:"50%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},deleteActionButtons:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},deleteYesButton:{width:"45%"},deleteNoButton:{width:"45%"}});function ke(e){var t=e.openModal,a=e.handleDeleteClick,n=e.setOpenModal,i=Se();return Object(R.jsx)(Ee.a,{open:t,onClose:function(){},BackdropProps:{style:{backgroundColor:"rgba(0,0,0,0.5)",opacity:"0.5"}},children:Object(R.jsx)(Ne.a,{className:i.modalBox,children:Object(R.jsxs)("div",{className:i.deleteModalContainer,children:[Object(R.jsx)(E.a,{children:"Do you want to delete the post ?"}),Object(R.jsxs)("div",{className:i.deleteActionButtons,children:[Object(R.jsx)(k.a,{className:i.deleteNoButton,color:"primary",variant:"contained",onClick:function(){return n(!1)},children:" No "}),Object(R.jsx)(k.a,{className:i.deleteYesButton,color:"secondary",variant:"contained",onClick:a,children:" Yes"})]})]})})})}function De(e){var t,a,i=e.post,c=e.setCurrentId,r=V(),s=Object(o.b)(),l=Object(D.h)(),d=Object(D.g)(),p=JSON.parse(localStorage.getItem("profile")),u=Object(n.useState)(!1),h=Object(Q.a)(u,2),m=h[0],j=h[1],b=null===p||void 0===p||null===(t=p.result)||void 0===t?void 0:t._id,g=Object(n.useState)(null===i||void 0===i?void 0:i.likes.find((function(e){return e===b}))),A=Object(Q.a)(g,2),x=A[0],f=A[1],O=Object(n.useState)(null===i||void 0===i?void 0:i.likes.length),C=Object(Q.a)(O,2),w=C[0],v=C[1],I=function(){var e=Object(J.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(x?w-1:w+1),f(!x),s(Qe(i._id));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsxs)(K.a,{className:r.card,children:[Object(R.jsx)(X.a,{className:r.media,image:i.selectedFile,title:i.title}),Object(R.jsxs)("div",{className:r.postInfo,children:[Object(R.jsxs)(Z.a,{className:r.cardAction,onClick:function(){d.push("/posts/".concat(i._id))},children:[Object(R.jsxs)("div",{className:r.overlayWrapper,children:[Object(R.jsx)("div",{}),Object(R.jsxs)("div",{className:r.overlay,children:[Object(R.jsx)(E.a,{variant:"body3",children:i.name}),Object(R.jsx)(E.a,{style:{marginLeft:"15px"},variant:"body3",children:pe()(i.createdAt).fromNow()})]})]}),Object(R.jsxs)(E.a,{className:r.title,gutterBottom:!0,variant:"h5",component:"h2",children:[i.title.split(" ").splice(0,4).join(" "),i.title.split(" ").splice(0,4).join(" ")!==i.title&&"..."]}),Object(R.jsx)(_.a,{className:r.description,children:Object(R.jsxs)(E.a,{variant:"body2",color:"textSecondary",component:"p",children:[window.innerWidth>400?i.message.split(" ").splice(0,30).join(" "):i.message.split(" ").splice(0,15).join(" "),"..."]})}),Object(R.jsx)("div",{className:r.details,children:Object(R.jsx)(E.a,{variant:"body2",color:"textSecondary",component:"h2",children:i.tags.map((function(e){return"#".concat(e," ")}))})})]}),Object(R.jsxs)($.a,{className:r.cardActions,children:[Object(R.jsx)(k.a,{className:r.likebutton,disabled:!(null===p||void 0===p?void 0:p.result),size:"small",color:"primary",onClick:I,children:x?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ne.a,{fontSize:"small"})," : ",w]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ce.a,{fontSize:"small"})," : ",w," "]})}),(null===p||void 0===p||null===(a=p.result)||void 0===a?void 0:a._id)===(null===i||void 0===i?void 0:i.author)&&Object(R.jsxs)(P.a,{className:r.authorButtons,children:[Object(R.jsx)(k.a,{component:M.b,to:{pathname:"/create",state:{prevPath:l.pathname}},size:"small",color:"primary",onClick:function(){return c(i._id)},children:Object(R.jsx)(le.a,{className:r.editButton,fontSize:"default"})}),Object(R.jsx)(k.a,{size:"small",color:"primary",onClick:function(){return j(!0)},children:Object(R.jsx)(re.a,{className:r.deleteButton,fontSize:"small"})})]}),Object(R.jsx)(k.a,{className:r.visitButton,color:"primary",variant:"contained",children:Object(R.jsx)("a",{className:r.visitLink,href:"https://maps.google.com/?q=".concat(i.latitude,",").concat(i.longitude),target:"_blank",children:Object(R.jsx)(te.a,{})})})]})]}),Object(R.jsx)(ke,{openModal:m,handleDeleteClick:function(){s(ye(i._id)),j(!1),"/posts"!=l.pathname&&window.location.reload()},setOpenModal:j})]})}var Me=a(199),Le=Object(F.a)((function(){return{loaderHolder:{height:"fit-content",width:"fit-content",padding:"2rem",background:"transparent",margin:"auto auto"}}}));function Fe(){var e=Le();return Object(R.jsx)("div",{children:Object(R.jsx)(W.a,{elevation:0,className:e.loaderHolder,children:Object(R.jsx)(Me.a,{})})})}var Ge=Object(F.a)((function(e){return{mainContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"},postWrapper:{width:"80%","@media(max-width:600px)":{width:"100%"}}}}));function Ue(e){var t=e.setCurrentId,a=Ge(),n=Object(o.c)((function(e){return e.posts})),i=n.posts,c=n.isLoading;return console.log(i),c?Object(R.jsx)(Fe,{}):(null===i||void 0===i?void 0:i.length)?Object(R.jsx)(P.a,{className:a.mainContainer,containter:!0,alignItems:"stretch",spacing:2,children:i.map((function(e){return Object(R.jsx)(P.a,{className:a.postWrapper,item:!0,md:12,xs:12,sm:12,children:Object(R.jsx)(De,{post:e,setCurrentId:t})},e._id)}))}):Object(R.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(R.jsx)(E.a,{variant:"h5",children:"No posts available"})})}var Re=a(105),qe=a.n(Re),He=a(210),Pe=a(207),We=Object(F.a)((function(){return{ul:{justifyContent:"space-around"}}})),ze=function(e){var t=e.page,a=We(),i=Object(o.b)(),c=Object(o.c)((function(e){return e.posts})).totalNumberOfPages;return Object(n.useEffect)((function(){t&&i(Ie(t))}),[i,t]),Object(R.jsx)(He.a,{classes:{ul:a.ul},count:c,page:Number(t)||1,variant:"outlined",color:"primary",renderItem:function(e){return Object(R.jsx)(Pe.a,Object(d.a)(Object(d.a)({},e),{},{component:M.b,to:"/posts?page=".concat(e.page)}))}})},Te=Object(F.a)({addButton:{display:"absolute",bottom:"0",left:"0"},signMsg:{pointerEvents:"none"},searchBox:{margin:"1rem 0rem",height:"fit-content ",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",padding:"0.5rem",fontSize:"0.5rem","@media (max-width:600px)":{width:"90%"}},pagination:{width:"50%",margin:"0px auto","@media(max-width:600px)":{width:"90%"}},searchInput:{margin:"0.2rem"},mainContainer:{width:"100%",maxWidth:"1400px",margin:"auto","@media (max-width:780px)":{display:"flex",flexDirection:"column"}},widgetContainer:{padding:"10px 10px",width:"100%",textAlign:"center","@media (max-width:780px)":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},margin:"0 auto"}});var Ye={search:"",tag:""};function Je(e){e.currentId;var t,a=e.setCurrentId,i=Te(),c=JSON.parse(localStorage.getItem("profile")),r=Object(D.g)(),s=new URLSearchParams(Object(D.h)().search),l=s.get("page")||1,p=Object(D.h)(),u=(s.get("searchQuery"),Object(n.useState)("")),h=Object(Q.a)(u,2),m=(h[0],h[1],Object(n.useState)(Ye)),j=Object(Q.a)(m,2),b=j[0],A=j[1],O=Object(o.b)(),C=function(e){A(Object(d.a)(Object(d.a)({},b),{},Object(H.a)({},e.target.name,e.target.value)))},w=function(){""===b.tag&&""===b.search||(O(function(e){return function(){var t=Object(J.a)(Y.a.mark((function t(a){var n,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:x}),t.prev=1,t.next=4,be(e);case 4:n=t.sent,i=n.data.data,console.log(e),a({type:g,payload:{data:i}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0.message);case 13:a({type:f});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(b)),r.push("/posts/search?search=".concat(""!==b.search||"none","&tag=").concat(b.tag)))};return Object(R.jsxs)(P.a,{container:!0,className:i.mainContainer,children:[Object(R.jsxs)(P.a,{item:!0,md:10,xs:12,sm:12,children:[Object(R.jsx)(Ue,{setCurrentId:a}),!b.tag&&!b.search&&Object(R.jsx)(W.a,{className:i.pagination,children:Object(R.jsx)(ze,{page:l})})]}),Object(R.jsxs)(P.a,{item:!0,md:2,xs:12,sm:6,className:i.widgetContainer,children:[(null===c||void 0===c||null===(t=c.result)||void 0===t?void 0:t.name)?Object(R.jsx)(k.a,{className:i.addButton,component:M.b,to:{pathname:"/create",state:{prevPath:p.pathname}},color:"secondary",variant:"contained",children:Object(R.jsx)(qe.a,{})}):Object(R.jsx)(k.a,{className:i.signMsg,color:"secondary",variant:"contained",children:Object(R.jsx)("p",{children:" Log in to place DOTS "})}),Object(R.jsxs)(W.a,{className:i.searchBox,children:[Object(R.jsx)(z.a,{className:i.searchInput,label:"Search title",variant:"outlined",name:"search",onChange:function(e){return C(e)}}),Object(R.jsx)(z.a,{className:i.searchInput,label:"Search tags",variant:"outlined",name:"tag",onChange:function(e){return C(e)}}),Object(R.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){return w()},children:" Search "})]})]})]})}var Ve=Object(F.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2),width:"60%",height:"fit-content",display:"flex",margin:"0px auto ","@media(max-width:600px)":{width:"90%"}},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0",display:"flex",alignItems:"center"},buttonSubmit:{marginBottom:10},modalBox:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60vw",height:"90vh","@media(max-width:700px)":{width:"95vw",height:"90vh"},backgroundColor:"white",borderRadius:"1rem",boxShadow:24,p:4,border:"none",outline:"none",overflow:"hidden"},closeIcon:{cursor:"pointer"},infoArea:{width:"100%",backgroundColor:"#002984",color:"white",height:"12%",display:"flex",justifyContent:"center",alignItems:"center"},infoAreaSub:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"90%"},locationButton:{fontSize:"0.8rem",margin:"10px"},loaderWrapper:{textAlign:"center",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},mapContainer:{height:"70%",borderBottom:"1px solid gray","@media(max-width:700px)":{height:"60%"}},modalAction:{height:"20%",display:"flex",flexDirection:"row","@media(max-width:700px)":{display:"flex",flexDirection:"column",height:"30%"}},locSearchBox:{width:"60%",padding:"10px",display:"flex",justifyContent:"center",alignItems:"center","@media(max-width:700px)":{width:"95%"}},locSearchBoxSub:{width:"90%",position:"relative"},locSearchBoxInput:{padding:"1px"},ActionButtons:{width:"40%",display:"flex",justifyContent:"space-around",alignItems:"center","@media(max-width:700px)":{width:"100%"}},searchLoaderWrapper:{height:"100%",widht:"100%",display:"flex",justifyContent:"center",alignItems:"center"},myLocationButton:{position:"absolute",top:"20%",right:"3%"}}})),Ke=a(106),Xe=a.n(Ke),Ze=a(107),_e=a.n(Ze),$e=a(108),et=a.n($e),tt=a(78);function at(e){var t=e.currentId,a=e.setCurrentId,i=Object(tt.c)({googleMapsApiKey:"AIzaSyCh2Yy8pmg8phKgeOpz_JqOyhwmde73MjY"}).isLoaded,c=Object(D.h)(),r=Ve(),s=Object(o.b)(),l=Object(D.g)(),h=Object(n.useState)(!1),m=Object(Q.a)(h,2),j=m[0],b=m[1],g=Object(n.useState)(),A=Object(Q.a)(g,2),x=A[0],f=A[1],O=Object(n.useState)({title:"",message:"",tags:[],selectedFile:""}),C=Object(Q.a)(O,2),w=C[0],v=C[1],I=JSON.parse(localStorage.getItem("profile")),y=Object(o.c)((function(e){return t?e.posts.posts.find((function(e){return e._id===t})):null})),B=(Object(o.c)((function(e){return e.posts})),Object(n.useState)(20.2961)),N=Object(Q.a)(B,2),S=N[0],M=N[1],L=Object(n.useState)(85.8245),F=Object(Q.a)(L,2),G=F[0],U=F[1],q=Object(n.useState)(!1),H=Object(Q.a)(q,2),P=H[0],T=H[1],V=Object(n.useState)(!1),K=Object(Q.a)(V,2),X=K[0],Z=K[1];Object(n.useEffect)((function(){y&&(v(y),M(y.latitude),U(y.longitude),T(!0))}),[y]);var _=function(){a(null),v({title:"",message:"",tags:[],selectedFile:""}),T(!1)};return Object(R.jsxs)("div",{children:[Object(R.jsx)(W.a,{className:r.paper,children:Object(R.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(r.root," ").concat(r.form," "),onSubmit:function(e){if(e.preventDefault(),w.latitude=S,w.longitude=G,w.title&&""!==w.title){var a,n,i,o;if(w.title=w.title.trim(),w.tags=w.tags.map((function(e){return e.trim()})),t)s((i=t,o=w,function(){var e=Object(J.a)(Y.a.mark((function e(t){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(i,o);case 3:a=e.sent,n=a.data,t({type:u,payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));else s((n=Object(d.a)(Object(d.a)({},w),{},{name:null===I||void 0===I||null===(a=I.result)||void 0===a?void 0:a.name}),function(){var e=Object(J.a)(Y.a.mark((function e(t){var a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c=n,me.post("/posts",c);case 3:a=e.sent,i=a.data,t({type:p,payload:i}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({message:e.t0.message});case 11:case"end":return e.stop()}var c}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));_(),l.push("".concat(c.state.prevPath))}},children:[Object(R.jsxs)(E.a,{variant:"h6",children:[" ",t?"Edit the ":"Place a"," DOT"]}),Object(R.jsx)(z.a,{name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:w.title,onChange:function(e){return v(Object(d.a)(Object(d.a)({},w),{},{title:e.target.value}))}}),Object(R.jsx)(z.a,{name:"message",variant:"outlined",label:"Message",fullWidth:!0,value:w.message,onChange:function(e){return v(Object(d.a)(Object(d.a)({},w),{},{message:e.target.value}))},multiline:!0,rows:4,maxRows:4}),Object(R.jsx)(z.a,{name:"tags",variant:"outlined",label:"Tags",fullWidth:!0,value:w.tags,onChange:function(e){return v(Object(d.a)(Object(d.a)({},w),{},{tags:e.target.value.split(",")}))}}),Object(R.jsx)("div",{className:r.fileInput,children:Object(R.jsx)(Xe.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return v(Object(d.a)(Object(d.a)({},w),{},{selectedFile:t}))}})}),Object(R.jsx)(k.a,{color:"primary",variant:"contained",className:r.locationButton,onClick:function(){return b(!0)},children:P?"Edit Location":"Add Location"}),Object(R.jsx)(k.a,{className:r.buttonSubmit,variant:"contained",color:"primary",size:"large",type:"submit",fullWidth:!0,children:"Submit"}),Object(R.jsx)(k.a,{variant:"contained",color:"secondary",size:"small",onClick:_,fullWidth:!0,children:"Clear"})]})}),Object(R.jsx)(Ee.a,{open:j,onClose:function(){},children:Object(R.jsxs)(Ne.a,{className:r.modalBox,children:[Object(R.jsx)("div",{className:r.infoArea,children:Object(R.jsxs)("div",{className:r.infoAreaSub,children:[Object(R.jsx)(E.a,{children:"Choose Location"}),Object(R.jsx)(_e.a,{className:r.closeIcon,onClick:function(){return b(!1)}})]})}),Object(R.jsx)("div",{className:r.mapContainer,children:i?Object(R.jsx)(tt.a,{center:{lat:S,lng:G},zoom:15,mapContainerStyle:{width:"100%",height:"100%"},children:Object(R.jsx)(tt.b,{position:{lat:S,lng:G},draggable:!0,onDragEnd:function(e){return function(e){M(e.latLng.lat()),U(e.latLng.lng())}(e)}})}):Object(R.jsx)("div",{className:r.loaderWrapper,children:Object(R.jsx)(Me.a,{className:r.loader})})}),Object(R.jsxs)("div",{className:r.modalAction,children:[Object(R.jsx)("div",{className:r.locSearchBox,children:Object(R.jsxs)("div",{className:r.locSearchBoxSub,children:[Object(R.jsx)(z.a,{name:"location",variant:"outlined",label:"Location",fullWidth:!0,disabled:X,value:x,onChange:function(e){return f(e.target.value)}}),Object(R.jsx)(k.a,{onClick:function(){navigator.geolocation.getCurrentPosition((function(e){M(e.coords.latitude),U(e.coords.longitude)}))},variant:"contained",color:"primary",className:r.myLocationButton,children:Object(R.jsx)(et.a,{})})]})}),Object(R.jsxs)("div",{className:r.ActionButtons,children:[Object(R.jsx)(k.a,{variant:"contained",disabled:X,color:"primary",onClick:function(){if(x&&""!==x){var e="https://api.opencagedata.com/geocode/v1/json?q=".concat(x,"&key=").concat("50ad8edcfbed475cafbd849257fca1e2");Z(!0),he.a.get(e).then((function(e){var t=null===e||void 0===e?void 0:e.data.results[0].geometry;M(t.lat),U(t.lng),Z(!1),f("")})).catch((function(e){Z(!1),console.log(e.message),f("")}))}},children:X?Object(R.jsx)("div",{className:r.searchLoaderWrapper,children:Object(R.jsx)(Me.a,{color:"secondary",size:25})}):"Search"}),Object(R.jsx)(k.a,{variant:"contained",color:"secondary",onClick:function(){b(!1),T(!0)},children:"Add Location"})]})]})]})})]})}a(152).config();var nt=Object(F.a)((function(e){return{content:{display:"flex",justifyContent:"center",alignItems:"center"}}}));function it(e){var t=e.currentId,a=e.setCurrentId,n=nt();return Object(R.jsx)(P.a,{className:n.content,item:!0,xs:12,sm:12,children:Object(R.jsx)(at,{currentId:t,setCurrentId:a})})}var ct=a(200),ot=Object(F.a)((function(e){return{commentsOuter:{display:"flex",justifyContent:"space-between",flexDirection:"column-reverse"},commentsInner:{height:"200px",width:"100%",overflowY:"scroll"},commentInput:{width:"100%",display:"flex",justifyContent:"space-around",marginBottom:"1rem"},submitButton:Object(H.a)({width:"20%",marginLeft:"0.5rem",maxHeight:"50px"},e.breakpoints.down("sm"),{fontSize:"0.7rem"}),commentTopdiv:{width:"90%","@media(max-width:600px)":{width:"100%"},display:"flex",justifyContent:"space-between",alignItems:"center",marginButtom:"20px"},commentBody:{width:"90%",overflowWrap:"break-word",marginTop:"10px"},ProfileLink:{textDecoration:"none",color:"#55AAD1","&:hover":{borderBottom:"1px solid #55AAD1"},"@media(max-width:600px)":{fontSize:"1.0rem"}}}}));function rt(e){var t=e.post,a=Object(o.b)(),i=ot(),c=Object(n.useState)((function(){return null===t||void 0===t?void 0:t.comments.reverse()})),r=Object(Q.a)(c,2),s=r[0],l=r[1],d=Object(n.useState)(""),p=Object(Q.a)(d,2),u=p[0],h=p[1],m=JSON.parse(localStorage.getItem("profile")),j=function(){var e=Object(J.a)(Y.a.mark((function e(){var n,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),n={user_id:null===m||void 0===m?void 0:m.result._id,comment:u},e.next=4,a(Be(n,t._id));case 4:i=e.sent,l(i);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsx)("div",{style:{width:"100%"},children:Object(R.jsxs)("div",{className:i.commentsOuter,children:[Object(R.jsxs)("div",{className:i.commentsInner,children:[Object(R.jsx)(E.a,{gutterBottom:!0,variant:"h5",children:"Comments"}),null===s||void 0===s?void 0:s.map((function(e,t){var a;return console.log(e.user),Object(R.jsxs)("div",{className:i.commentContainer,children:[Object(R.jsxs)("div",{className:i.commentTopdiv,children:[Object(R.jsx)(E.a,{variant:"body2",children:Object(R.jsx)("a",{className:i.ProfileLink,href:"/profile/".concat(null===(a=e.user)||void 0===a?void 0:a._id),children:e.user.name})}),Object(R.jsx)(E.a,{variant:"body2",children:pe()(e.createdAt).fromNow()})]}),Object(R.jsx)("div",{className:i.commentBody,children:Object(R.jsx)(E.a,{variant:"body2",children:e.comment})}),Object(R.jsx)(ct.a,{style:{margin:"15px 0px"}})]},t)}))]}),(null===m||void 0===m?void 0:m.result.name)&&Object(R.jsxs)("div",{className:i.commentInput,children:[Object(R.jsx)(z.a,{className:i.commentText,fullWidth:!0,rows:1,variant:"outlined",label:"Write something....",value:u,onChange:function(e){return h(e.target.value)},multiline:!0,maxRows:3}),Object(R.jsx)(k.a,{fullWidth:!0,className:i.submitButton,variant:"contained",disabled:!u,onClick:j,color:"primary",children:"COMMENT"})]})]})})}var st=Object(F.a)((function(e){var t;return{media:{borderRadius:"15px",objectFit:"cover",width:"100%",maxHeight:"600px"},card:Object(H.a)({display:"flex",width:"100%"},e.breakpoints.down("sm"),{flexWrap:"wrap",flexDirection:"column-reverse"}),section:Object(H.a)({borderRadius:"20px",margin:"10px",flex:1,width:"70%"},e.breakpoints.down("sm"),{marginLeft:0,width:"100%"}),imageSection:(t={marginLeft:"20px",width:"30%"},Object(H.a)(t,e.breakpoints.down("sm"),{marginLeft:0,width:"100%"}),Object(H.a)(t,"borderRadius","15px"),t),loadingPaper:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderRadius:"15px",height:"39vh"},visitLink:{textDecoration:"none",color:"white"},profileNameLink:{textDecoration:"none",color:"#55AAD1","&:hover":{borderBottom:"1px solid #55AAD1"},"@media(max-width:600px)":{fontSize:"1.0rem"}},modalBox:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,backgroundColor:"white",boxShadow:24,height:"200px",p:4,outline:"none",borderRadius:"1rem",display:"flex",justifyContent:"center",alignItems:"center","@media(max-width:600px)":{height:"150px",width:"90vw"}},deleteModalContainer:{width:"fit-content",height:"50%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},deleteActionButtons:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},deleteYesButton:{width:"45%"},deleteNoButton:{width:"45%"},mainPaper:{width:"96%",maxWidth:"1400px",padding:"20px",borderRadius:"15px",margin:"auto","@media(max-width:600px)":{width:"94%",padding:"10px"}},authorName:{"@media(max-width:600px)":{fontSize:"1.0rem"}},createdAt:{"@media(max-width:600px)":{fontSize:"1.0rem"},marginLeft:"15px"},postTitle:{"@media(max-width:600px)":{fontSize:"1.8rem"},marginTop:"30px",marginButtom:"30px"},postInfo:{display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:"40%",width:"fit-content",right:"0","@media(max-width:600px)":{minWidth:"100%"},position:"absolute","@media(min-width:600px)":{maxWidth:"400px"}},postInfoContainer:{position:"relative"},cardActions:{display:"flex",justifyContent:"space-between",alignItems:"center"},tagLink:{textDecoration:"none",color:"#55AAD1","&:hover":{borderBottom:"1px solid #55AAD1"},"@media(max-width:600px)":{fontSize:"1.0rem"},marginRight:"5px",cursor:"pointer"}}}));function lt(e){var t,a,i=e.setCurrentId,c=st(),r=Object(D.h)(),s=Object(o.c)((function(e){return e.posts})),l=s.post,d=(s.posts,s.isLoading),p=Object(n.useState)(!1),u=Object(Q.a)(p,2),h=u[0],m=u[1],j=JSON.parse(localStorage.getItem("profile")),b=null===j||void 0===j||null===(t=j.result)||void 0===t?void 0:t._id,g=Object(o.b)(),O=Object(D.g)(),C=Object(D.i)().id;Object(n.useEffect)((function(){g(function(e){return function(){var t=Object(J.a)(Y.a.mark((function t(a){var n,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:x}),t.next=4,ge(e);case 4:n=t.sent,i=n.data,a({type:A,payload:i}),a({type:f}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(C))}),[C]);var w=Object(n.useState)(null===l||void 0===l?void 0:l.likes.find((function(e){return e===b}))),v=Object(Q.a)(w,2),I=v[0],y=v[1],B=Object(n.useState)(l?l.likes.length:0),N=Object(Q.a)(B,2),S=N[0],L=N[1],F=function(){var e=Object(J.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(I?S-1:S+1),y(!I),g(Qe(l._id));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(l),d?Object(R.jsx)(Fe,{}):l?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(W.a,{className:c.mainPaper,elevation:6,children:Object(R.jsxs)("div",{className:c.card,children:[Object(R.jsxs)("div",{className:c.section,children:[Object(R.jsx)("div",{className:c.postInfoContainer,children:Object(R.jsxs)("div",{className:c.postInfo,children:[Object(R.jsxs)(E.a,{className:c.authorName,variant:"body1",children:["Created by:",Object(R.jsx)(E.a,{variant:"body1",className:c.profileNameLink,component:M.b,to:"/profile/".concat(l.author),children:l.name})]}),Object(R.jsx)(E.a,{className:c.createdAt,variant:"body1",children:pe()(l.createdAt).fromNow()})]})}),Object(R.jsx)(E.a,{className:c.postTitle,variant:"h5",component:"h2",children:l.title}),Object(R.jsx)(E.a,{style:{margin:"10px 0px"},variant:"body1",color:"textSecondary",component:"h3",children:l.tags.map((function(e){return Object(R.jsxs)("span",{style:{marginRight:"4px"},children:["#",e]})}))}),Object(R.jsx)(E.a,{gutterBottom:!0,variant:"body1",component:"p",children:l.message}),Object(R.jsxs)($.a,{className:c.cardActions,children:[Object(R.jsx)(k.a,{className:c.likebutton,disabled:!(null===j||void 0===j?void 0:j.result),size:"small",color:"primary",onClick:F,children:I?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ne.a,{fontSize:"small"})," : ",S]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ce.a,{fontSize:"small"})," : ",S," "]})}),(null===j||void 0===j||null===(a=j.result)||void 0===a?void 0:a._id)===(null===l||void 0===l?void 0:l.author)&&Object(R.jsxs)(P.a,{className:c.authorButtons,children:[Object(R.jsx)(k.a,{className:c.editButton,component:M.b,to:{pathname:"/create",state:{prevPath:r.pathname}},size:"small",color:"primary",onClick:function(){return i(l._id)},children:Object(R.jsx)(le.a,{fontSize:"default"})}),Object(R.jsx)(k.a,{size:"small",color:"primary",onClick:function(){return m(!0)},children:Object(R.jsx)(re.a,{className:c.deleteButton,fontSize:"small"})})]}),Object(R.jsx)(k.a,{className:c.visitButton,color:"primary",variant:"contained",children:Object(R.jsx)("a",{className:c.visitLink,href:"https://maps.google.com/?q=".concat(l.latitude,",").concat(l.longitude),target:"_blank",children:"VISIT"})})]}),Object(R.jsx)(ct.a,{style:{margin:"20px 0"}}),Object(R.jsx)(rt,{post:l}),Object(R.jsx)(ct.a,{style:{margin:"20px 0"}})]}),Object(R.jsx)("div",{className:c.imageSection,children:Object(R.jsx)("img",{width:"200px",height:"200px",className:c.media,src:l.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",alt:l.title})})]})}),Object(R.jsx)(ke,{openModal:h,handleDeleteClick:function(){g(ye(l._id)),m(!1),O.push("/")},setOpenModal:m})]}):Object(R.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(R.jsx)(E.a,{variant:"h5",children:"Post does not exist"})})}var dt=Object(F.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),pt=a(203),ut=a(111),ht=a.n(ut),mt=a(201),jt=a(202),bt=a(109),gt=a.n(bt),At=a(110),xt=a.n(At);function ft(e){var t=e.handleChange,a=e.label,n=e.name,i=e.half,c=e.autoFocus,o=e.type,r=e.handleShowPassword;return Object(R.jsx)(P.a,{item:!0,xs:12,sm:i?6:12,children:Object(R.jsx)(z.a,{name:n,label:a,onChange:t,required:!0,fullWidth:!0,autoFocus:c,type:o,InputProps:"password"===n?{endAdornment:Object(R.jsx)(mt.a,{position:"end",children:Object(R.jsx)(jt.a,{onClick:r,children:"password"===o?Object(R.jsx)(gt.a,{}):Object(R.jsx)(xt.a,{})})})}:null})})}var Ot={firstName:"",lastName:"",email:"",password:"",confirmPassword:""};function Ct(){var e=Object(D.h)(),t=Object(o.b)(),a=dt(),i=Object(n.useState)(0),c=Object(Q.a)(i,2),r=c[0],s=c[1],l=Object(n.useState)(0),p=Object(Q.a)(l,2),u=p[0],h=p[1],m=Object(n.useState)(Ot),b=Object(Q.a)(m,2),g=b[0],A=b[1],x=Object(D.g)(),f=Object(o.c)((function(e){return e.auth})),O=f.authFail,C=f.isAuthLoading,y=f.authFailMessage,B=function(e){A(Object(d.a)(Object(d.a)({},g),{},Object(H.a)({},e.target.name,e.target.value)))};return Object(R.jsx)("div",{children:Object(R.jsx)(pt.a,{component:"main",maxWidth:"xs",children:Object(R.jsxs)(W.a,{className:a.paper,elevation:3,children:[Object(R.jsx)(S.a,{className:a.avatar}),Object(R.jsx)(ht.a,{}),Object(R.jsx)(E.a,{variant:"h5",children:u?"Sign Up":"Sign In"}),O&&Object(R.jsx)(E.a,{variant:"body2",color:"error",style:{textAlign:"center"},children:y}),Object(R.jsxs)("form",{className:a.form,onSubmit:function(a){a.preventDefault(),t(u?function(e,t,a){return function(){var n=Object(J.a)(Y.a.mark((function n(i){var c,o;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:v}),n.prev=1,i({type:v}),n.next=5,Ce(e);case 5:c=n.sent,o=c.data,i({type:j,data:o}),i({type:I}),t.push("".concat(a.state.prevPath)),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0.response.data.message),i({type:w,payload:n.t0.response.data.message});case 16:i({type:I});case 17:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}()}(g,x,e):function(e,t,a){return function(){var n=Object(J.a)(Y.a.mark((function n(i){var c,o,r;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i({type:v}),n.prev=1,n.next=4,we(e);case 4:c=n.sent,o=c.data,i({type:j,data:o}),t.push("".concat(a.state.prevPath)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),i({type:w,payload:null===(r=n.t0.response)||void 0===r?void 0:r.data.message});case 13:i({type:I});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}(g,x,e))},children:[Object(R.jsxs)(P.a,{container:!0,spacing:2,children:[u?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(ft,{name:"firstName",label:"First Name",handleChange:B,autofocus:!0,half:!0}),Object(R.jsx)(ft,{name:"lastName",label:"Last Name",handleChange:B,autofocus:!0,half:!0})]}):null,Object(R.jsx)(ft,{name:"email",label:"Email Address",handleChange:B,type:"email"}),Object(R.jsx)(ft,{name:"password",label:"Password",handleChange:B,type:r?"text":"password",handleShowPassword:function(){s(!r)}}),u?Object(R.jsx)(ft,{name:"confirmPassword",label:"Confirm Password",handleChange:B,type:"password"}):Object(R.jsx)(R.Fragment,{}),Object(R.jsx)(P.a,{container:!0,justify:"flex-end",children:Object(R.jsxs)(P.a,{item:!0,children:[u?"Already have account ?  ":"Don't have account ? ",Object(R.jsx)(k.a,{variant:"outlined",color:"secondary",onClick:function(){h(!u),s(!1)},children:u?"Sign In ":"Sign Up"})]})})]}),Object(R.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:C?Object(R.jsx)(Me.a,{color:"red",size:24.5}):"".concat(u?"Sign Up":"Sign In")})]})]})})})}var wt=Object(F.a)((function(e){return{InfoContainer:{padding:"20px 10px",fontSize:"0.8rem",marginBottom:"10px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",margin:"auto","@media(min-width:600px) and (max-width:900px)":{width:"50%"}},mainContainer:Object(H.a)({display:"flex",width:"100%"},e.breakpoints.down("sm"),{flexWrap:"wrap",flexDirection:"column-reverse"}),infoWrapper:{width:"fit-content",margin:"auto"},mainPostsContainer:{display:"flex",flexDirection:"column",alignItems:"center"},postWrapper:{width:"80%",display:"flex",justifyContent:"center",alignItems:"center","@media(max-width:600px)":{width:"100%"}},header:{margin:"auto",width:"fit-content"},progressHolder:{marginTop:"10px",width:"fit-content",margin:"auto"},CircularProgressHolder:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}}));function vt(e){var t=e.setCurrentId,a=wt(),i=Object(o.b)(),c=(JSON.parse(localStorage.getItem("profile")),Object(D.i)().id),r=Object(o.c)((function(e){return e.posts})),s=r.postsByUserId,l=r.profileUser,d=r.isLoading;return Object(n.useEffect)((function(){i(function(e){return function(){var t=Object(J.a)(Y.a.mark((function t(a){var n,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:x}),t.next=4,ve(e);case 4:n=t.sent,i=n.data,console.log(i),a({type:C,payload:i}),a({type:f}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(c))}),[]),console.log(s),console.log(l),d?Object(R.jsx)("div",{className:a.CircularProgressHolder,children:Object(R.jsx)(Me.a,{})}):Object(R.jsxs)(P.a,{container:!0,className:a.mainContainer,children:[Object(R.jsxs)(P.a,{item:!0,md:10,xs:12,sm:12,children:[Object(R.jsxs)(E.a,{variant:"h6",color:"white",className:a.header,children:[" ",null===l||void 0===l?void 0:l.name,"'s Posts "]}),(null===s||void 0===s?void 0:s.length)?Object(R.jsx)(P.a,{className:a.mainPostsContainer,containter:!0,alignItems:"stretch",spacing:2,children:null===s||void 0===s?void 0:s.map((function(e){return Object(R.jsx)(P.a,{className:a.postWrapper,item:!0,md:12,xs:12,sm:12,children:Object(R.jsx)(De,{post:e,setCurrentId:t})},e._id)}))}):Object(R.jsx)("div",{className:a.progressHolder,children:Object(R.jsxs)(E.a,{children:["No posts by ",null===l||void 0===l?void 0:l.name," yet."]})})]}),Object(R.jsx)(P.a,{item:!0,md:2,xs:12,sm:12,className:a.widgetContainer,children:Object(R.jsxs)(W.a,{className:a.InfoContainer,children:[Object(R.jsx)("img",{height:"70px",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSLlQ9DL2jP_heI_mtZXdw8cxNdGunsejk7FQ&usqp=CAU"}),Object(R.jsxs)("div",{className:a.infoWrapper,children:[Object(R.jsxs)(E.a,{variant:"body2",children:["Name: ",null===l||void 0===l?void 0:l.name]}),Object(R.jsxs)(E.a,{variant:"body2",children:["Email: ",null===l||void 0===l?void 0:l.email]})]})]})})]})}var It=function(){var e=Object(n.useState)(0),t=Object(Q.a)(e,2),a=t[0],i=t[1],c=Object(o.b)();Object(n.useEffect)((function(){c(Ie())}),[a,c]);var r=Object(n.useState)(JSON.parse(localStorage.getItem("profile"))),s=Object(Q.a)(r,2),l=s[0],d=s[1];return Object(R.jsxs)(M.a,{children:[Object(R.jsx)(q,{setLoggedUser:d}),Object(R.jsxs)(D.d,{children:[Object(R.jsx)(D.b,{exact:!0,path:"/",component:function(){return Object(R.jsx)(D.a,{to:"/posts"})}}),Object(R.jsx)(D.b,{exact:!0,path:"/posts",children:Object(R.jsx)(Je,{currentId:a,setCurrentId:i})}),Object(R.jsx)(D.b,{exact:!0,path:"/create",children:Object(R.jsx)(it,{currentId:a,setCurrentId:i})}),Object(R.jsx)(D.b,{exact:!0,path:"/auth",children:l?Object(R.jsx)(D.a,{to:"/"}):Object(R.jsx)(Ct,{currentId:a,setCurrentId:i})}),Object(R.jsx)(D.b,{path:"/posts/search",exact:!0,children:Object(R.jsx)(Je,{})}),Object(R.jsx)(D.b,{exact:!0,path:"/posts/:id",children:Object(R.jsx)(lt,{setCurrentId:i})}),Object(R.jsx)(D.b,{exact:!0,path:"/profile/:id",children:Object(R.jsx)(vt,{currentId:a,setCurrentId:i})})]})]})},yt=(a(156),Object(r.d)(y,Object(r.c)(Object(r.a)(s.a))));c.a.render(Object(R.jsx)(o.a,{store:yt,children:Object(R.jsx)(It,{})}),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.f777a91f.chunk.js.map